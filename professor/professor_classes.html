<!DOCTYPE html>

<link rel="stylesheet" type="text/css" href="/style.css">

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3pro.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata">

<ul>
	<li style="float:left"><span class="logoname" >I Am Here!</span></li>
	<li style="float:left"><a href="/professor">Home</a></li>
	<li style="float:left" class="current"><a href="/professor/classes">Classes</a></li>
	<li style="float:left"><a href="/professor/attendance">Attendance</a></li>

	<li style="float:right"><a href="/logout">Log Out</a></li>
	<li style="float:right"><span class="name" id="IST_NAME"></span></li>
</ul>

<div class="text-center" id="button_scancourses">
</div>


<div class="container" >
	<center class="center">
		<table id="showCourses_template">
			<tr class="courserow">
				<td class="coursename">Produção de Conteúdos Multimédia</td>
				<td class="courseid">PCM201819</td>
			</tr>
		</table>
	</center>
</div>

<center>


<div class="center" id="classTable">
<div class="container" >
	<div style="text-align: left">
		<a onclick="switchView(1)"	class="previous round" id="back_qrcode">&#8249;</a>
	</div>
	
	<h3>
		Produção de Conteúdos Multimédia
	</h3>
	
	<table>
		<tr>
			<th>Class #</th>
			<th>Date</th>
			<th>Students attending</th>
		</tr>
		<tr>
			<td id="classnumber">1</td>
			<td id="classdate">-</td>
			<td><a class="w3-button w3-circle w3-small w3-black" onclick="switchView(3)">&#9654;</td>
		</tr>
	</table>

</div>
</div>


<div class="center" id="maincontainer" style="display:none">
<div class="container" id="studentsTable">
	<div style="text-align: left">
		<a onclick="switchView(2)"	class="previous round" id="back_qrcode">&#8249;</a>
	</div>
		<h3>
			Present in class #6:
		</h3>

		<table>
			<tr>
				<th>IST ID</th>
				<th>Name</th>
			</tr>
			<tr>
				<td>ist182083</td>
				<td>Carolina Costa</td>
			</tr>
	</table>

</div>
</div>

</center>

<div class="container" id="fingerprintTable" style="display:none">
	<div style="text-align: left">
		<a onclick="switchView(3)"	class="previous round">&#8249;</a>
	</div>
		<h1>
			Device fingerprint similarity:
		</h1>
		<table>
			<tr>
				<th>Catarina Afonso Lopes</th>
				<th>Attribute</th>
				<th>José Miguel Antunes</th>
			</tr>
			<tr>
				<td>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_2) (AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36)"</td>
				<td>User agent</td>
				<td>"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36"</td>
			</tr>
			<tr>
				<td>Safari</td>
				<td style="background: #ffffdd !IMPORTANT">Browser</td>
				<td>Chrome</td>
			</tr>
			<tr>
				<td>"gzip, deflate, br"</td>
				<td>Content encoding</td>
				<td>"gzip, deflate, br"</td>
			</tr>
			<tr>
				<td>"1440x900x24"</td>
				<td>Screen resolution</td>
				<td>""1440x900x24"</td>
			</tr>
			<tr>
				<td>"Plugin 0: Chrome PDF Plugin; Portable Document Format; internal-pdf-viewer. Plugin 1: Chrome PDF Viewer; ; mhjfbmdgcfjbbpaeojofohoefgiehjai. Plugin 2: Native Client; ; internal-nacl-plugin. "</td>
				<td>List of plugins</td>
				<td>"Plugin 0: Chrome PDF Plugin; Portable Document Format; internal-pdf-viewer. Plugin 1: Chrome PDF Viewer; ; mhjfbmdgcfjbbpaeojofohoefgiehjai. Plugin 2: Native Client; ; internal-nacl-plugin. "</td>
			</tr>
			<tr>
				<td>"en-US,en;q=0.9,pt-PT;q=0.8,pt;q=0.7"</td>
				<td>Content language</td>
				<td>"en-US,en;q=0.9,pt-PT;q=0.8,pt;q=0.7"</td>
			</tr>
			<tr>
				<td>78.08%</td>
				<td>Use of local storage</td>
				<td>78.08%</td>
			</tr>
	</table>

</div>

</center>


<script>

function switchView(arg){
	console.log("switchView", arg);
	switch(arg) {
		case 0:
			document.getElementById("showClasses").style.display = "";
			document.getElementById("addClasses").style.display = "none";
			document.getElementById("maincontainer").style.display = "none";
			document.getElementById("classTable").style.display = "none";
			document.getElementById("fingerprintTable").style.display = "none";
			break;
		case 1:
			document.getElementById("showClasses").style.display = "none";
			document.getElementById("addClasses").style.display = "";
			document.getElementById("maincontainer").style.display = "none";
			document.getElementById("classTable").style.display = "none";
			document.getElementById("fingerprintTable").style.display = "none";
			break;
		case 2:
			document.getElementById("showClasses").style.display = "none";
			document.getElementById("addClasses").style.display = "none";
			document.getElementById("maincontainer").style.display = "none";
			document.getElementById("classTable").style.display = "";
			document.getElementById("fingerprintTable").style.display = "none";
			break;
		case 3:
			document.getElementById("showClasses").style.display = "none";
			document.getElementById("addClasses").style.display = "none";
			document.getElementById("maincontainer").style.display = "";
			document.getElementById("classTable").style.display = "none";
			document.getElementById("fingerprintTable").style.display = "none";
			break;
		case 4:
			document.getElementById("showClasses").style.display = "none";
			document.getElementById("addClasses").style.display = "none";
			document.getElementById("maincontainer").style.display = "none";
			document.getElementById("classTable").style.display = "none";
			document.getElementById("fingerprintTable").style.display = "";
			break;
		default:
			console.log("unknown arg", arg);
			break;
	}
}

function loadName(url) {
	var xhttp = new XMLHttpRequest();
	xhttp.onreadystatechange = function() {
		if(this.readyState == 4) {
			if(this.status == 200) {
				document.getElementById("IST_NAME").innerHTML = this.responseText;
			} else {
				document.getElementById("IST_NAME").innerHTML = "<i>error getting username: " + this.status + "</i>";
			}
		}
	};

	xhttp.open("GET", url, true);
	xhttp.send();
}

loadName("/api/name");

</script>